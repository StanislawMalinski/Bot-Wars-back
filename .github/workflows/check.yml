name: Health Check
on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]
jobs:
  build:
    runs-on: ubuntu-latest
    name: Build & Helth Check
    steps:
    - uses: actions/checkout@v3
    - name: setup-dotnet
    - uses: xt0rted/setup-dotnet@v1.5.0
      with:
        # Optional SDK version(s) to use. If not provided, will install global.json version when available. Examples: 2.2.104, 3.1, 3.1.x
        # TODO <- extract dotnet version from global.json
        dotnet-version: 8.0.0 

    - run: |
        dotnet tool install --global dotnet-ef
        dotnet ef database update --project Shared --startup-project BotWars

        
